import { NgZone } from '@angular/core';
export class ElementZoneStrategy {
    constructor(strategy, injector) {
        this.strategy = strategy;
        this.injector = injector;
        this.ngZone = this.injector.get(NgZone);
        if (this.strategy.events) {
            this.events = this.strategy.events;
        }
    }
    connect(element) {
        this.runInZone(() => { this.strategy.connect(element); });
        if (!this.events) {
            this.events = this.strategy.events;
        }
    }
    disconnect() {
        this.runInZone(() => { this.strategy.disconnect(); });
    }
    getInputValue(propName) {
        // tslint:disable-next-line:arrow-return-shorthand
        return this.runInZone(() => { return this.strategy.getInputValue(propName); });
    }
    setInputValue(propName, value) {
        this.runInZone(() => { this.strategy.setInputValue(propName, value); });
    }
    runInZone(fn) { return this.ngZone.run(fn); }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWxlbWVudC16b25lLXN0cmF0ZWd5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvZWxlbWVudHMtem9uZS1zdHJhdGVneS9zcmMvbGliL2VsZW1lbnQtem9uZS1zdHJhdGVneS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsTUFBTSxFQUFZLE1BQU0sZUFBZSxDQUFDO0FBS2pELE1BQU0sT0FBTyxtQkFBbUI7SUFLNUIsWUFBc0IsUUFBMkIsRUFBWSxRQUFrQjtRQUF6RCxhQUFRLEdBQVIsUUFBUSxDQUFtQjtRQUFZLGFBQVEsR0FBUixRQUFRLENBQVU7UUFDM0UsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBUyxNQUFNLENBQUMsQ0FBQztRQUVoRCxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFO1lBQ3RCLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUM7U0FDdEM7SUFFTCxDQUFDO0lBRUQsT0FBTyxDQUFDLE9BQW9CO1FBQ3hCLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUUxRCxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNkLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUM7U0FDdEM7SUFDTCxDQUFDO0lBRUQsVUFBVTtRQUNOLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzFELENBQUM7SUFDRCxhQUFhLENBQUMsUUFBZ0I7UUFDMUIsa0RBQWtEO1FBQ2xELE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbkYsQ0FBQztJQUNELGFBQWEsQ0FBQyxRQUFnQixFQUFFLEtBQWE7UUFDekMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM1RSxDQUFDO0lBRU8sU0FBUyxDQUFDLEVBQWEsSUFBSSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztDQUNuRSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5nWm9uZSwgSW5qZWN0b3IgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IE5nRWxlbWVudFN0cmF0ZWd5RXZlbnQsIE5nRWxlbWVudFN0cmF0ZWd5IH0gZnJvbSAnQGFuZ3VsYXIvZWxlbWVudHMnO1xuXG5cbmV4cG9ydCBjbGFzcyBFbGVtZW50Wm9uZVN0cmF0ZWd5IHtcbiAgICBwcml2YXRlIG5nWm9uZTogTmdab25lO1xuXG4gICAgZXZlbnRzOiBPYnNlcnZhYmxlPE5nRWxlbWVudFN0cmF0ZWd5RXZlbnQ+O1xuXG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIHN0cmF0ZWd5OiBOZ0VsZW1lbnRTdHJhdGVneSwgcHJvdGVjdGVkIGluamVjdG9yOiBJbmplY3Rvcikge1xuICAgICAgICB0aGlzLm5nWm9uZSA9IHRoaXMuaW5qZWN0b3IuZ2V0PE5nWm9uZT4oTmdab25lKTtcblxuICAgICAgICBpZiAodGhpcy5zdHJhdGVneS5ldmVudHMpIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzID0gdGhpcy5zdHJhdGVneS5ldmVudHM7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGNvbm5lY3QoZWxlbWVudDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5ydW5JblpvbmUoKCkgPT4geyB0aGlzLnN0cmF0ZWd5LmNvbm5lY3QoZWxlbWVudCk7IH0pO1xuXG4gICAgICAgIGlmICghdGhpcy5ldmVudHMpIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzID0gdGhpcy5zdHJhdGVneS5ldmVudHM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkaXNjb25uZWN0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLnJ1bkluWm9uZSgoKSA9PiB7IHRoaXMuc3RyYXRlZ3kuZGlzY29ubmVjdCgpOyB9KTtcbiAgICB9XG4gICAgZ2V0SW5wdXRWYWx1ZShwcm9wTmFtZTogc3RyaW5nKSB7XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTphcnJvdy1yZXR1cm4tc2hvcnRoYW5kXG4gICAgICAgIHJldHVybiB0aGlzLnJ1bkluWm9uZSgoKSA9PiB7IHJldHVybiB0aGlzLnN0cmF0ZWd5LmdldElucHV0VmFsdWUocHJvcE5hbWUpOyB9KTtcbiAgICB9XG4gICAgc2V0SW5wdXRWYWx1ZShwcm9wTmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMucnVuSW5ab25lKCgpID0+IHsgdGhpcy5zdHJhdGVneS5zZXRJbnB1dFZhbHVlKHByb3BOYW1lLCB2YWx1ZSk7IH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgcnVuSW5ab25lKGZuOiAoKSA9PiBhbnkpIHsgcmV0dXJuIHRoaXMubmdab25lLnJ1bihmbik7IH1cbn1cbiJdfQ==